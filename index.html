<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sori - Learn Korean</title>
<style>
  * { box-sizing: border-box; }
  
  body { 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
    max-width: 680px; 
    margin: 0 auto; 
    padding: 20px;
    background: linear-gradient(135deg, #f5f3ff 0%, #faf5ff 50%, #f0f9ff 100%);
    min-height: 100vh;
  }
  
  h1 { 
    font-size: 32px; 
    margin: 0 0 12px 0; 
    color: #7c3aed;
    font-weight: 800;
  }
  
  .intro {
    color: #6b21a8;
    font-size: 16px;
    margin-bottom: 24px;
    line-height: 1.6;
    font-weight: 500;
  }
  
  .card { 
    border-radius: 24px; 
    padding: 28px; 
    margin: 16px 0; 
    box-shadow: 0 8px 32px rgba(124, 58, 237, 0.08);
    background: white;
  }
  
  .category-tabs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
  }
  
  .tab-button {
    padding: 16px 24px;
    border: 3px solid #ede9fe;
    border-radius: 20px;
    background: white;
    color: #9ca3af;
    cursor: pointer;
    font-size: 16px;
    font-weight: 700;
  }
  
  .tab-button.active {
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    border-color: transparent;
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
  }
  
  .badge {
    display: inline-block;
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 16px;
    font-size: 13px;
    font-weight: 800;
    margin-bottom: 16px;
  }
  
  .target-display {
    font-size: 38px;
    font-weight: 800;
    color: #1f2937;
    margin: 20px 0;
    text-align: center;
    line-height: 1.4;
  }
  
  .english-translation {
    color: #6b7280;
    font-size: 18px;
    text-align: center;
    margin-bottom: 20px;
    font-weight: 500;
    font-style: italic;
  }
  
  .pronunciation-hint {
    background: linear-gradient(135deg, #fef3c7 0%, #fed7aa 100%);
    color: #92400e;
    font-size: 22px;
    font-weight: 700;
    text-align: center;
    margin-bottom: 24px;
    padding: 18px 20px;
    border-radius: 16px;
    letter-spacing: 1.5px;
  }
  
  button { 
    padding: 18px 28px; 
    border: 0; 
    border-radius: 20px; 
    background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
    color: white; 
    cursor: pointer; 
    font-size: 18px;
    font-weight: 800;
    width: 100%;
    box-shadow: 0 8px 24px rgba(139, 92, 246, 0.3);
  }
  
  button:disabled { opacity: 0.4; }
  
  button.secondary {
    background: linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%);
  }
  
  .button-group {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-top: 16px;
  }
  
  .practice-tip {
    background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
    border-left: 5px solid #8b5cf6;
    padding: 16px 20px;
    border-radius: 16px;
    margin-top: 20px;
    font-size: 14px;
    color: #5b21b6;
    line-height: 1.7;
    font-weight: 500;
  }
  
  .icon { font-size: 24px; margin-right: 8px; }
  
  .progress {
    text-align: center;
    color: #8b5cf6;
    font-size: 15px;
    font-weight: 700;
    margin-top: 12px;
  }
  
  .context-box {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    border-radius: 16px;
    padding: 14px 20px;
    margin: 16px 0;
    font-size: 15px;
    color: #78350f;
    font-weight: 600;
  }
  
  .voice-speed {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    margin-top: 16px;
    padding: 12px;
    background: #fef3c7;
    border-radius: 12px;
  }
  
  .voice-speed label {
    color: #92400e;
    font-size: 14px;
    font-weight: 600;
  }
  
  .voice-speed input { width: 150px; }
  
  .voice-speed span {
    color: #92400e;
    font-weight: 700;
    font-size: 14px;
    min-width: 60px;
  }
  
  @media (max-width: 640px) {
    body { padding: 16px; }
    h1 { font-size: 28px; }
    .card { padding: 24px; }
    .target-display { font-size: 32px; }
    .pronunciation-hint { font-size: 19px; }
  }
</style>
</head>
<body>
  <h1>✨ Sori - Learn Korean</h1>
  <div class="intro">Master Korean with K-Drama lines and daily conversations 💕</div>

  <div class="card">
    <div class="category-tabs">
      <button class="tab-button active" id="dramaBtn">🎭 K-Drama</button>
      <button class="tab-button" id="dailyBtn">💬 Daily Talk</button>
    </div>
    
    <div id="levelTabs" style="display:none;">
      <div class="category-tabs" style="grid-template-columns: 1fr 1fr 1fr; margin-top: 12px;">
        <button class="tab-button active" id="lv1Btn">⭐ Lv1</button>
        <button class="tab-button" id="lv2Btn">⭐⭐ Lv2</button>
        <button class="tab-button" id="lv3Btn">⭐⭐⭐ Lv3</button>
      </div>
      <div style="text-align:center; margin-top:10px; font-size:14px; color:#6b21a8; font-weight:600;" id="levelDesc">Short & Simple</div>
    </div>
  </div>

  <div class="card">
    <div class="badge" id="badge">Goblin</div>
    <div class="context-box" id="context">Kim Shin to Eun-tak</div>
    <div class="target-display" id="korean">너는 내가 잃은 모든 날들이다</div>
    <div class="english-translation" id="english">"You are all the days I lost"</div>
    <div class="pronunciation-hint" id="pronunciation">neoneun naega ireun modeun naldeulida</div>
    
    <button onclick="play()">🔊 Listen & Repeat</button>
    
    <div class="voice-speed">
      <label>Speed:</label>
      <input type="range" id="speed" min="0.6" max="1.0" step="0.1" value="0.75">
      <span id="speedTxt">0.75x</span>
    </div>
    
    <div class="practice-tip">
      💖 <strong>Tip:</strong> Listen carefully and repeat multiple times. Beauty takes time!
    </div>
  </div>

  <div class="card">
    <div class="button-group">
      <button class="secondary" onclick="prev()">◀ Previous</button>
      <button class="secondary" onclick="next()">▶ Next</button>
    </div>
    <div class="progress" id="prog">1 / 30</div>
  </div>

<script>
const drama = [
  {t:'Goblin',c:'Kim Shin to Eun-tak',k:'너는 내가 잃은 모든 날들이다',e:'You are all the days I lost',p:'neoneun naega ireun modeun naldeulida'},
  {t:'Goblin',c:'Eun-tak',k:'혼자였던 시간들이 다 필요했어요',e:'I needed all those times I was alone',p:'honjayeotdeon sigandeuri da piryohaesseoyo'},
  {t:'Goblin',c:'Kim Shin',k:'나를 기억하라',e:'Remember me',p:'nareul gieokara'},
  {t:'Crash Landing',c:'Ri Jeong-hyeok',k:'내가 널 좋아했던 게 잘못이니?',e:'Was it wrong to like you?',p:'naega neol joahaetdeon ge jalmosini?'},
  {t:'Crash Landing',c:'Yoon Se-ri',k:'이 세상에 영원한 건 없어요',e:'Nothing lasts forever',p:'i sesange yeongwonhan geon eopseoyo'},
  {t:'Itaewon Class',c:'Park Sae-ro-yi',k:'난 내 방식대로 할 거야',e:"I'll do it my way",p:'nan nae bangsikdaero hal geoya'},
  {t:'SKY Castle',c:'Kang Ye-seo',k:'엄마, 나 숨 좀 쉬자',e:'Mom, let me breathe',p:'eomma, na sum jom swija'},
  {t:'Descendants',c:'Yoo Si-jin',k:'삐삐가 울려도 안 갈 거야',e:"I won't go even if my beeper rings",p:'ppippiga ullyeodo an gal geoya'},
  {t:'My Love',c:'Cheon Song-yi',k:'첫눈이 오는 날 고백하면 이루어진대',e:'Confessions on first snow come true',p:'cheotnuni oneun nal gobaekhamyeon irueojindae'},
  {t:'Mr. Sunshine',c:'Ae-shin',k:'슬픈 날엔 어깨를 쓰세요',e:'Use my shoulder on sad days',p:'seulpeun naren eokkaereul sseuseyo'}
];

const lv1 = [
  {t:'Greeting',c:'Basic',k:'안녕하세요',e:'Hello',p:'annyeonghaseyo'},
  {t:'Greeting',c:'Casual',k:'안녕',e:'Hi/Bye',p:'annyeong'},
  {t:'Gratitude',c:'Formal',k:'감사합니다',e:'Thank you',p:'gamsahamnida'},
  {t:'Gratitude',c:'Casual',k:'고마워요',e:'Thanks',p:'gomawoyo'},
  {t:'Apology',c:'Formal',k:'죄송합니다',e:"I'm sorry",p:'joesonghamnida'},
  {t:'Response',c:'Yes',k:'네',e:'Yes',p:'ne'},
  {t:'Response',c:'No',k:'아니요',e:'No',p:'aniyo'},
  {t:'Food',c:'Delicious',k:'맛있어요',e:"It's delicious",p:'masisseoyo'},
  {t:'Asking',c:'Excuse me',k:'저기요',e:'Excuse me',p:'jeogiyo'},
  {t:'Common',c:'OK',k:'괜찮아요',e:"It's okay",p:'gwaenchanayo'}
];

const lv2 = [
  {t:'Greeting',c:'How are you',k:'잘 지냈어요?',e:'How have you been?',p:'jal jinaesseoyo?'},
  {t:'Greeting',c:'Nice to meet',k:'만나서 반갑습니다',e:'Nice to meet you',p:'mannaseo bangapseumnida'},
  {t:'Food',c:'Before meal',k:'잘 먹겠습니다',e:"I'll eat well",p:'jal meokgetseumnida'},
  {t:'Food',c:'After meal',k:'잘 먹었습니다',e:'Thank you for the meal',p:'jal meogeotseumnida'},
  {t:'Asking',c:'Help',k:'도와주세요',e:'Please help me',p:'dowajuseyo'},
  {t:'Shopping',c:'Price',k:'얼마예요?',e:'How much?',p:'eolmayeyo?'},
  {t:'Direction',c:'Restroom',k:'화장실이 어디예요?',e:'Where is the bathroom?',p:'hwajangsiri eodiyeyo?'},
  {t:'Response',c:'Understand',k:'네, 알겠습니다',e:'Yes, I understand',p:'ne, algetseumnida'},
  {t:'Time',c:'What time',k:'몇 시예요?',e:'What time is it?',p:'myeot siyeyo?'},
  {t:'Weather',c:'Hot',k:'더워요',e:"It's hot",p:'deowoyo'}
];

const lv3 = [
  {t:'Social',c:'Weekend',k:'이번 주말에 시간 있으세요?',e:'Do you have time this weekend?',p:'ibeon jumare sigan isseuseyo?'},
  {t:'Restaurant',c:'Reservation',k:'예약하고 싶은데요',e:"I'd like to make a reservation",p:'yeyakago sipeundeyo'},
  {t:'Shopping',c:'Try on',k:'입어봐도 될까요?',e:'May I try this on?',p:'ibeobwado doelkkayo?'},
  {t:'Work',c:'Late',k:'죄송하지만 조금 늦을 것 같아요',e:"I think I'll be late",p:'joesongajiman jogeum neujeul geot gatayo'},
  {t:'Conversation',c:'Opinion',k:'어떻게 생각하세요?',e:'What do you think?',p:'eotteoke saenggakaseyo?'},
  {t:'Problem',c:'Issue',k:'무슨 문제가 있나요?',e:"What's the problem?",p:'museun munjega innayo?'},
  {t:'Suggestion',c:'Movie',k:'같이 영화 보러 갈래요?',e:'Want to see a movie?',p:'gachi yeonghwa boreo gallaeyo?'},
  {t:'Request',c:'Favor',k:'부탁 하나만 들어주실 수 있나요?',e:'Could you do me a favor?',p:'butak hanaman deureojusil su innayo?'},
  {t:'Explanation',c:'Explain',k:'제가 설명해 드릴게요',e:"I'll explain it",p:'jega seolmyeonghae deurilgeyo'},
  {t:'Compliment',c:'Praise',k:'정말 잘하시네요!',e:"You're really good!",p:'jeongmal jalhasineyo!'}
];

let st = { cat:'drama', lv:1, i:0, spd:0.75, lines:drama };

function getLines() {
  if (st.cat === 'drama') return drama;
  if (st.lv === 1) return lv1;
  if (st.lv === 2) return lv2;
  return lv3;
}

function show() {
  st.lines = getLines();
  const d = st.lines[st.i];
  document.getElementById('badge').textContent = d.t;
  document.getElementById('context').textContent = d.c;
  document.getElementById('korean').textContent = d.k;
  document.getElementById('english').textContent = '"' + d.e + '"';
  document.getElementById('pronunciation').textContent = d.p;
  document.getElementById('prog').textContent = (st.i+1) + ' / ' + st.lines.length;
  
  const lvTab = document.getElementById('levelTabs');
  lvTab.style.display = st.cat === 'daily' ? 'block' : 'none';
}

function play() {
  const txt = st.lines[st.i].k;
  if (!window.speechSynthesis) {
    alert('Voice not supported');
    return;
  }
  
  window.speechSynthesis.cancel();
  
  setTimeout(() => {
    const u = new SpeechSynthesisUtterance(txt);
    u.lang = 'ko-KR';
    u.rate = st.spd;
    u.pitch = 0.95;
    u.volume = 1.0;
    
    const vcs = window.speechSynthesis.getVoices();
    const ko = vcs.find(v => v.lang && (v.lang.includes('ko-KR') || v.lang.includes('ko_KR')));
    if (ko) u.voice = ko;
    
    window.speechSynthesis.speak(u);
  }, 150);
}

function prev() {
  if (st.i > 0) { st.i--; show(); }
}

function next() {
  if (st.i < st.lines.length - 1) { st.i++; show(); }
}

document.getElementById('dramaBtn').onclick = () => {
  st.cat = 'drama';
  st.i = 0;
  document.getElementById('dramaBtn').classList.add('active');
  document.getElementById('dailyBtn').classList.remove('active');
  show();
};

document.getElementById('dailyBtn').onclick = () => {
  st.cat = 'daily';
  st.i = 0;
  document.getElementById('dailyBtn').classList.add('active');
  document.getElementById('dramaBtn').classList.remove('active');
  show();
};

document.getElementById('lv1Btn').onclick = () => {
  st.lv = 1;
  st.i = 0;
  document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
  document.getElementById('lv1Btn').classList.add('active');
  document.getElementById('dramaBtn').classList.remove('active');
  document.getElementById('dailyBtn').classList.add('active');
  document.getElementById('levelDesc').textContent = 'Short & Simple';
  show();
};

document.getElementById('lv2Btn').onclick = () => {
  st.lv = 2;
  st.i = 0;
  document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
  document.getElementById('lv2Btn').classList.add('active');
  document.getElementById('dramaBtn').classList.remove('active');
  document.getElementById('dailyBtn').classList.add('active');
  document.getElementById('levelDesc').textContent = 'Full Sentences';
  show();
};

document.getElementById('lv3Btn').onclick = () => {
  st.lv = 3;
  st.i = 0;
  document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
  document.getElementById('lv3Btn').classList.add('active');
  document.getElementById('dramaBtn').classList.remove('active');
  document.getElementById('dailyBtn').classList.add('active');
  document.getElementById('levelDesc').textContent = 'Complex Sentences';
  show();
};

document.getElementById('speed').oninput = function() {
  st.spd = parseFloat(this.value);
  document.getElementById('speedTxt').textContent = st.spd + 'x';
};

window.onload = () => {
  if (window.speechSynthesis) {
    window.speechSynthesis.getVoices();
  }
  show();
};
</script>
</body>
</html>